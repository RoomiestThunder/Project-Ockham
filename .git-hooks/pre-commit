#!/bin/bash

echo "Running code style check..."
./vendor/bin/pint --test

if [ $? -ne 0 ]; then
    echo "Code style issues found. Please run './vendor/bin/pint' to fix them."
    exit 1
fi

echo "Running tests..."
php artisan test

if [ $? -ne 0 ]; then
    echo "Tests failed. Please fix failing tests before committing."
    exit 1
fi

echo "All checks passed!"
exit 0
